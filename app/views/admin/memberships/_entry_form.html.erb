<%= admin_form_for [:admin, parent, resource] do |f| %>
  <%= f.inputs do %>
    <%= f.input :user,
                :input_html => { :disabled => (parent_type == :user) },
                :collection => membership_users_collection_for_parent(parent),
                include_blank: false,
                input_html: { disabled: !f.object.new_record? }%>
    <%= f.input :entity,
                label: I18n.t('activerecord.attributes.pageflow/membership.entry'),
                :input_html => { :disabled => (parent_type == :entry) },
                :collection => membership_entries_collection_for_parent(parent),
                include_blank: false %>
    <%= f.hidden_field :entity_type, value: 'Pageflow::Entry' %>
    <%= f.input :role,
                :collection => membership_roles_collection,
                include_blank: false %>
  <% end %>
  <%= f.actions do %>
    <%= f.action(:submit) %>
    <%= f.action(:cancel, :wrapper_html => {:class => 'cancel'}) %>
  <% end %>
<% end %>
